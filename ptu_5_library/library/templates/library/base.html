<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %} Library {% endblock title %}</title>
    <link rel="stylesheet" href="{% static 'library/css/base.css' %}">
    <link rel="icon" href="./favicon.ico" type="image/x-icon"> 
  </head>
  <body>
      <header>
        <div class="container">
            {% comment %} meniukas {% endcomment %}
            {% block nav %}
                <a href="{% url 'index' %}">Home</a>
                <a href="{% url 'authors' %}">Authors</a>
                <a href="{% url 'books' %}">Books</a>
                <span class='spacer'></span>
                {% if user.is_authenticated %}
                  <span>{{ user }}</span>
                  <a href="{% url "user_books" %}">My Books</a>
                  {% if user.is_superuser or user.is_staff %}
                  <a href="{% url 'admin:index' %}">Admin</a>
                  {% endif %}
                  <a href="{% url 'logout' %}">Logout </a>
                {% else %}
                <span></span>
                {% comment %} <a href="{% url 'login' %}{% if request.path != '/accounts/logout' %}?next={{ request.path }}{% endif %}">Login </a> {% endcomment %}
                <a href="{% url 'register' %}">Register</a>
                <a href="{% url 'login' %}{% if not '/account/' and '/user_profile' in request.path %}?next={{ request.path }}{% endif %}">Login </a>

                {% endif %}
            {% endblock nav %}
        </div>
      </header>
      <main>
        <div class="container">
          {% if messages %}
          {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">{{ message }}</div>
          {% endfor %}
          {% endif %}     
          {% block content %}
          {% endblock content %}
        </div>
      </main>
      <footer>
        <div class="container">
          {% block footer %}
          (c) PTU5 Marius Kaminskas
          {% endblock footer %}
        </div>
      </footer>
  </body>
</html>